Ниже приведены примеры различных эндпоинтов TheCatAPI с подробными объяснениями запросов как для curl, так и для Postman.

---

## 1. Получение списка пород котов

**Эндпоинт:**  
`GET https://api.thecatapi.com/v1/breeds`

**Назначение:**  
Запрос возвращает полный список пород котов с подробной информацией о каждой породе.

### Пример запроса через curl

```bash
curl -X GET "https://api.thecatapi.com/v1/breeds" -H "x-api-key: YOUR_API_KEY"
```

**Разбор команды:**

- **curl:** Утилита для выполнения HTTP-запросов.
- **-X GET:** Указывает, что запрос выполняется методом GET (для получения данных).
- **URL:** `https://api.thecatapi.com/v1/breeds` – адрес эндпоинта.
- **-H "x-api-key: YOUR_API_KEY":** Заголовок для аутентификации. Замените `YOUR_API_KEY` на ваш ключ.

### Пример запроса через Postman

1. **Создайте новый запрос** и выберите метод **GET**.
2. В строке URL введите:  
   `https://api.thecatapi.com/v1/breeds`
3. Перейдите во вкладку **Headers** и добавьте:
   - **Key:** `x-api-key`
   - **Value:** `YOUR_API_KEY`
4. Нажмите **Send**, чтобы получить ответ с данными о породах.

---

## 2. Получение списка категорий изображений

**Эндпоинт:**  
`GET https://api.thecatapi.com/v1/categories`

**Назначение:**  
Запрос возвращает категории изображений (например, «hats», «sunglasses» и другие).

### Пример запроса через curl

```bash
curl -X GET "https://api.thecatapi.com/v1/categories" -H "x-api-key: YOUR_API_KEY"
```

**Разбор команды:**  
Аналогично предыдущему примеру, используется метод GET и API ключ передается в заголовке.

### Пример запроса через Postman

1. Создайте новый GET-запрос.
2. Введите URL:  
   `https://api.thecatapi.com/v1/categories`
3. В разделе **Headers** добавьте:  
   - **Key:** `x-api-key`
   - **Value:** `YOUR_API_KEY`
4. Нажмите **Send** для получения списка категорий.

---

## 3. Добавление изображения в избранное

**Эндпоинт:**  
`POST https://api.thecatapi.com/v1/favourites`

**Назначение:**  
Позволяет добавить конкретное изображение кота в список избранного.

### Пример запроса через curl

```bash
curl -X POST "https://api.thecatapi.com/v1/favourites" \
-H "Content-Type: application/json" \
-H "x-api-key: YOUR_API_KEY" \
-d '{"image_id": "abc123", "sub_id": "my-user-123"}'
```

**Разбор команды:**

- **-X POST:** Используется метод POST, предназначенный для создания или добавления новых данных.
- **-H "Content-Type: application/json":** Указывает, что тело запроса передается в формате JSON.
- **-d '{"image_id": "abc123", "sub_id": "my-user-123"}':** Тело запроса с данными:
  - **image_id:** Идентификатор изображения (замените на актуальный).
  - **sub_id:** Необязательный идентификатор пользователя или сессии, позволяющий группировать избранное.

### Пример запроса через Postman

1. Создайте новый запрос и выберите метод **POST**.
2. Введите URL:  
   `https://api.thecatapi.com/v1/favourites`
3. Перейдите во вкладку **Headers** и добавьте:
   - **Key:** `Content-Type`  
     **Value:** `application/json`
   - **Key:** `x-api-key`  
     **Value:** `YOUR_API_KEY`
4. Перейдите во вкладку **Body**, выберите **raw** и формат **JSON**, затем вставьте:
   ```json
   {
     "image_id": "abc123",
     "sub_id": "my-user-123"
   }
   ```
5. Нажмите **Send** для выполнения запроса.

---

## 4. Получение списка избранных изображений

**Эндпоинт:**  
`GET https://api.thecatapi.com/v1/favourites`

**Назначение:**  
Запрос возвращает список изображений, которые вы ранее добавили в избранное.

### Пример запроса через curl

```bash
curl -X GET "https://api.thecatapi.com/v1/favourites" -H "x-api-key: YOUR_API_KEY"
```

**Разбор команды:**  
Метод GET используется для извлечения данных, а API ключ передается в заголовке.

### Пример запроса через Postman

1. Создайте новый GET-запрос.
2. Введите URL:  
   `https://api.thecatapi.com/v1/favourites`
3. Во вкладке **Headers** добавьте:  
   - **Key:** `x-api-key`
   - **Value:** `YOUR_API_KEY`
4. Нажмите **Send** для получения списка избранных изображений.

---

## 5. Добавление голосования за изображение

**Эндпоинт:**  
`POST https://api.thecatapi.com/v1/votes`

**Назначение:**  
Позволяет проголосовать за изображение (например, поставить оценку). Обычно значение `value` может быть 1 (за) или -1 (против).

### Пример запроса через curl

```bash
curl -X POST "https://api.thecatapi.com/v1/votes" \
-H "Content-Type: application/json" \
-H "x-api-key: YOUR_API_KEY" \
-d '{"image_id": "abc123", "value": 1, "sub_id": "my-user-123"}'
```

**Разбор команды:**

- **-X POST:** Метод POST для отправки данных.
- **-H "Content-Type: application/json":** Определяет формат передаваемых данных.
- **-d '{"image_id": "abc123", "value": 1, "sub_id": "my-user-123"}':** Тело запроса:
  - **image_id:** Идентификатор изображения.
  - **value:** Оценка (1 – за, -1 – против).
  - **sub_id:** Дополнительный идентификатор пользователя.

### Пример запроса через Postman

1. Создайте новый запрос, выберите метод **POST**.
2. Введите URL:  
   `https://api.thecatapi.com/v1/votes`
3. В разделе **Headers** добавьте:
   - **Key:** `Content-Type`  
     **Value:** `application/json`
   - **Key:** `x-api-key`  
     **Value:** `YOUR_API_KEY`
4. Перейдите во вкладку **Body**, выберите **raw** и формат **JSON**, затем вставьте:
   ```json
   {
     "image_id": "abc123",
     "value": 1,
     "sub_id": "my-user-123"
   }
   ```
5. Нажмите **Send** для выполнения запроса.

---

## 6. Получение списка голосов

**Эндпоинт:**  
`GET https://api.thecatapi.com/v1/votes`

**Назначение:**  
Запрос возвращает список всех голосов, выставленных пользователем (или всеми пользователями, если не задан фильтр).

### Пример запроса через curl

```bash
curl -X GET "https://api.thecatapi.com/v1/votes" -H "x-api-key: YOUR_API_KEY"
```

**Разбор команды:**  
Метод GET используется для извлечения данных, а API ключ передается в заголовке.

### Пример запроса через Postman

1. Создайте новый GET-запрос.
2. Введите URL:  
   `https://api.thecatapi.com/v1/votes`
3. Во вкладке **Headers** добавьте:
   - **Key:** `x-api-key`
   - **Value:** `YOUR_API_KEY`
4. Нажмите **Send** для получения списка голосов.

---

## Итог

Каждый из этих примеров демонстрирует, как можно работать с различными эндпоинтами TheCatAPI. Основные моменты, которые нужно запомнить:

- **Методы запросов:** GET для получения данных, POST для создания/добавления новых записей.
- **Заголовки:** Всегда добавляйте заголовок `x-api-key` для аутентификации, а для POST-запросов не забудьте указать `Content-Type: application/json`.
- **Параметры и тело запроса:** Для GET-запросов параметры могут передаваться в URL (например, ?limit=3), а для POST-запросов данные передаются в теле в формате JSON.

---

Чтобы не вписывать API ключ в каждую команду, можно сохранить его в переменной окружения и затем использовать эту переменную в своих запросах. Вот как это можно сделать в PowerShell и Bash:

---

## PowerShell

1. **Установка переменной окружения**

   Выполните команду для установки API ключа:
   ```powershell
   $env:API_KEY = "YOUR_API_KEY"
   ```
   Замените `YOUR_API_KEY` на ваш реальный ключ.

2. **Использование переменной в curl запросах**

   Теперь можно использовать переменную `$env:API_KEY` в командах. Например:
   ```powershell
   curl -X GET "https://api.thecatapi.com/v1/images/search?limit=3" -H "x-api-key: $env:API_KEY"
   ```
   Это избавляет от необходимости постоянно вписывать ключ в каждую команду.

3. **Автоматическая загрузка переменной при старте PowerShell**

   Если вы хотите, чтобы переменная устанавливалась автоматически при каждом запуске PowerShell, добавьте строку установки переменной в ваш профиль (обычно файл находится по пути `$PROFILE`). Откройте файл профиля:
   ```powershell
   notepad $PROFILE
   ```
   и добавьте строку:
   ```powershell
   $env:API_KEY = "YOUR_API_KEY"
   ```

---

## Bash

1. **Установка переменной окружения**

   Выполните команду в терминале для установки переменной:
   ```bash
   export API_KEY="YOUR_API_KEY"
   ```
   Замените `YOUR_API_KEY` на ваш реальный ключ.

2. **Использование переменной в curl запросах**

   Используйте переменную `$API_KEY` в ваших командах. Например:
   ```bash
   curl -X GET "https://api.thecatapi.com/v1/images/search?limit=3" -H "x-api-key: $API_KEY"
   ```

3. **Автоматическая установка переменной при запуске терминала**

   Чтобы переменная автоматически устанавливалась при каждом запуске терминала, добавьте строку в ваш файл конфигурации, например, в `~/.bashrc` или `~/.zshrc`:
   ```bash
   export API_KEY="YOUR_API_KEY"
   ```
   После внесения изменений не забудьте выполнить команду `source ~/.bashrc` (или `source ~/.zshrc`), чтобы обновить настройки.

---

Таким образом, используя переменные окружения, вы делаете свои команды более удобными и безопасными, поскольку API ключ не нужно прописывать каждый раз вручную.